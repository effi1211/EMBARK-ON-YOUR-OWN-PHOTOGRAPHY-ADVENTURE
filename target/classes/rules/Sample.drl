package com.sample

import javax.swing.*
 

declare Pytanie
	pytanie: String;
	odpowiedzi: String[]
end

declare Odpowiedz
	pytanie: String;
	odpowiedz: String
end

function Odpowiedz wyswietlOkno(Pytanie pytanie){
	
	//wyswietli okienko i zwraca nr odpowiedzi:
	int nrOdp = JOptionPane.showOptionDialog(null,pytanie.getPytanie() , "Pytanie", JOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, pytanie.getOdpowiedzi(), null);	
	//System.out.println(pytanie.getPytanie());
	Odpowiedz odp = new Odpowiedz(pytanie.getPytanie(), pytanie.getOdpowiedzi()[nrOdp]);
	//System.out.println(odp.getPytanie());
	//System.out.println(odp.getOdpowiedz());
	return odp;
}

rule "zapytaj o goshe"
	when
	then
	Pytanie pytanie = new Pytanie("gosha?",new String[] {"karr","KARRRR"});
	insert(wyswietlOkno(pytanie));
end

rule "hotel?"
	when
		Odpowiedz(pytanie == "gosha?" && odpowiedz == "KARRRR")
	then
	Pytanie pytanie = new Pytanie("hotel?",new String[] {"Trivago"});
	insert(wyswietlOkno(pytanie));
end
